package main



use core {*}

main :: (args: [] cstr) {
    imap : Map(i32, str)
    Map.init(&imap)
    defer {
        print("Freeing map\n")
        Map.free(&imap)
    }
    Map.put(&imap, 50, "Hello ")
    imap->put(1234, "World!")

    println(Map.has(&imap, 50))
    println(Map.has(&imap, 51))

    printf("{}{}\n", Map.get(&imap, 50)->unwrap(), Map.get(&imap, 1234)->unwrap())

    printf("{*p}\n", &imap)

    Map.delete(&imap, 50)
    println(Map.has(&imap, 50))

    Map.clear(&imap)
    println(Map.has(&imap, 1234))
}
